"""
This type stub file was generated by pyright.
"""

from .tcpabridged import AbridgedPacketCodec
from .connection import ObfuscatedConnection

class ObfuscatedIO:
    header = ...
    def __init__(self, connection) -> None:
        ...
    
    @staticmethod
    def init_header(packet_codec): # -> tuple[bytearray, AESModeCTR, AESModeCTR]:
        ...
    
    async def readexactly(self, n): # -> bytes:
        ...
    
    def write(self, data): # -> None:
        ...
    


class ConnectionTcpObfuscated(ObfuscatedConnection):
    """
    Mode that Telegram defines as "obfuscated2". Encodes the packet
    just like `ConnectionTcpAbridged`, but encrypts every message with
    a randomly generated key using the AES-CTR mode so the packets are
    harder to discern.
    """
    obfuscated_io = ObfuscatedIO
    packet_codec = AbridgedPacketCodec


